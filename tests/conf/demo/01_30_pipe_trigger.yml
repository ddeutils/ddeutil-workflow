pipe_trigger:
  type: pipeline.Pipeline
  on: 'every_5_minute_bkk'
  jobs:
    trigger-job:
      stages:
        - name: "Trigger pipe-run-python pipeline"
          trigger: pipe-run-python
          id: trigger-stage
          params:
            author-run: Trigger Runner
            run-date: '2024-08-01'


pipe-condition:
  type: pipeline.Pipeline
  on: 'every_5_minute_bkk'
  params:
    name: str
  jobs:
    condition-job:
      stages:
        - name: "Test if condition"
          id: condition-stage
          if: '"${{ params.name }}" == "foo"'
          shell: |
            echo 'Hello World';

        - name: "Empty stage"


pipe-condition-raise:
  type: pipeline.Pipeline
  params:
    name: str
  jobs:
    condition-job:
      stages:
        - name: "Test if condition failed"
          id: condition-stage
          if: '"${{ params.name }}"'


pipe-scheduling:
  type: pipeline.Pipeline
  on:
    - 'every_5_minute_bkk'
    - 'every_2_minute_bkk'
    - 'every_hour_bkk'
  params:
    name: str
  jobs:
    condition-job:
      stages:
        - name: "Empty stage"

        - name: "Call-out"
          echo: "Hello ${{ params.name | upper }}"
